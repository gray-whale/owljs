<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://www.unpkg.com/@owl-js/web-sdk@latest/lib/index.golbal.js"></script>
    <script>
        window.browserClient("init", {
            aid: 0,
            token: 'xxx-xxx'
        });
        window.browserClient("start");
    </script>
    <style>
        .btn {
            border: none;
            color: #fff;
            background-color: #1677ff;
            box-shadow: 0 2px 0 rgba(5, 145, 255, .1);
            font-size: 16px;
            width: 100%;
            height: 40px;
            padding: 7px 15px;
            margin: 16px 0;
            border-radius: 8px px;
            display: block;
        }
    </style>
</head>

<body>
    <button class="btn" onclick="triggerJSError()">触发JS执行异常</button>
    <button class="btn" onclick="triggerPromiseError()">触发promise执行异常</button>
    <button class="btn" onclick="triggerJSResourceError()">触发静态资源JS异常</button>
    <button class="btn" onclick="triggerImageError()">触发静态资源图片异常</button>
    <button class="btn" onclick="triggerJSResourceSuccess()">触发静态资源JS成功</button>
    <button class="btn" onclick="triggerImageSuccess()">触发静态资源image成功</button>
    <button class="btn" onclick="triggerAjaxFail()">触发Ajax请求失败</button>
    <button class="btn" onclick="triggerAjaxSuccess()">触发Ajax请求成功</button>
    <button class="btn" onclick="triggerFetchFail()">触发Fetch请求失败</button>
    <button class="btn" onclick="triggerAjaxSuccess()">触发Fetch请求成功</button>
    <button class="btn" onclick="triggerBlankScreen()">触发白屏</button>
    <button class="btn">自定义SPA性能</button>
    <button class="btn" onclick="sendEvent()">自定义上报事件</button>
    <button class="btn" onclick="sendLog()">自定义上报日志</button>
    <button class="btn">自定义上报事件with metrics</button>
    <script>
        function triggerJSError() {
            throw new Error('JS执行异常')
        }

        function triggerPromiseError() {
            new Promise((resolve, reject) => {
                reject('promise异常')
            })
        }

        function triggerJSResourceError() {
            const script = document.createElement('script');
            script.src = "https://seals.fangxin.c/ipri/js/sck.c2901f63b6857ee13f1a.js"; // 没有这个脚本
            document.body.append(script);
        }

        function triggerImageError() {
            const img = new Image();
            img.src = "http://www.xxx.com/sdkjflsk";
        }

        function triggerJSResourceSuccess() {
            const script = document.createElement('script');
            script.src = "https://www.unpkg.com/vue@3.3.4/dist/vue.global.js"; // 没有这个脚本
            document.body.append(script);
        }

        function triggerImageSuccess() {
            const img = new Image();
            img.src = "https://codeteenager.github.io/product/2.png";
        }

        function triggerAjaxFail() {
            const xhr = new XMLHttpRequest();
            xhr.open("GET", "http://localhost:8090/test/list", true);
            xhr.onreadystatechange = function () {
                if (xhr.readyState == 4 && xhr.status == 200) {

                }
            }
            xhr.send();
        }

        function triggerAjaxSuccess() {
            const xhr = new XMLHttpRequest();
            xhr.open("GET", "https://www.unpkg.com/vue@3.3.4/dist/vue.global.js", true);
            xhr.onreadystatechange = function () {
                if (xhr.readyState == 4 && xhr.status == 200) {

                }
            }
            xhr.send();
        }

        function triggerFetchFail() {
            fetch('http://localhost:8090/test/list')
                .then(response => response.json())
                .then(data => console.log(data))
        }

        function triggerFetchSuccess() {
            fetch('https://www.unpkg.com/vue@3.3.4/dist/vue.global.js')
                .then(response => response.json())
                .then(data => console.log(data))
        }

        function triggerBlankScreen() {

        }

        function sendEvent(){

        }

        function sendLog(){
            
        }
    </script>
</body>

</html>