import{_ as t,c as d,o as r,U as a,a3 as e,a4 as h,a5 as o}from"./chunks/framework.jzvb6BdL.js";const P=JSON.parse('{"title":"指标说明","description":"","frontmatter":{},"headers":[],"relativePath":"readme/mp-indicator.md","filePath":"readme/mp-indicator.md","lastUpdated":1704694661000}'),l={name:"readme/mp-indicator.md"},n=a('<h1 id="指标说明" tabindex="-1">指标说明 <a class="header-anchor" href="#指标说明" aria-label="Permalink to &quot;指标说明&quot;">​</a></h1><h2 id="用户分析指标" tabindex="-1">用户分析指标 <a class="header-anchor" href="#用户分析指标" aria-label="Permalink to &quot;用户分析指标&quot;">​</a></h2><table><thead><tr><th>指标</th><th>计算规则</th><th>说明</th></tr></thead><tbody><tr><td>PV(Page View)</td><td>对上报的pageview根据view_id去重</td><td>页面访问次数。</td></tr><tr><td>UV(User View)</td><td>对上报的pageview根据user_id去重</td><td>独立访客数。</td></tr><tr><td>Session数</td><td>对上报的pageview根据session_id去重</td><td>用户会话访问次数（从进入页面到关闭页面当做一次会话）。</td></tr><tr><td>页面停留时长</td><td>相同两个view_id的pageview的时间戳相减</td><td>用户进入页面至离开页面的时长。</td></tr><tr><td>人均停留时长</td><td>页面停留时长 / UV</td><td>平均每个用户在页面停留的时长。</td></tr></tbody></table><h2 id="js监控指标" tabindex="-1">JS监控指标 <a class="header-anchor" href="#js监控指标" aria-label="Permalink to &quot;JS监控指标&quot;">​</a></h2><table><thead><tr><th>指标</th><th>计算规则</th></tr></thead><tbody><tr><td>JS错误数</td><td>JS错误的总和。</td></tr><tr><td>影响用户数</td><td>发生JS错误的UV数之和。</td></tr><tr><td>错误率</td><td>发生JS错误的PV数 / 总PV数。</td></tr><tr><td>影响用户率</td><td>发生JS错误的UV数 / 总UV数。</td></tr></tbody></table><h2 id="请求监控指标" tabindex="-1">请求监控指标 <a class="header-anchor" href="#请求监控指标" aria-label="Permalink to &quot;请求监控指标&quot;">​</a></h2><table><thead><tr><th>小程序类型</th><th>计算规则</th></tr></thead><tbody><tr><td>微信小程序、抖音小程序</td><td>请求耗时，responseEnd - fetchStart。</td></tr><tr><td>支付宝小程序</td><td>SDK打点耗时。</td></tr><tr><td>百度小程序</td><td>说明：由于支付宝和百度小程序无法获取fetchStart，因此这两种小程序类型的请求耗时为SDK打点耗时。</td></tr></tbody></table><table><thead><tr><th>指标</th><th>计算规则</th></tr></thead><tbody><tr><td>请求数</td><td>请求数量的总和。</td></tr><tr><td>用户数</td><td>发生请求的UV数之和。</td></tr><tr><td>慢请求数</td><td>请求耗时 &gt; 设定阈值的请求数之和。</td></tr><tr><td>慢请求率</td><td>慢请求数 / 请求数。</td></tr><tr><td>慢请求影响用户数</td><td>发生慢请求的用户数。</td></tr><tr><td>慢请求影响用户率</td><td>发生慢请求的用户数 / 用户数。</td></tr><tr><td>回调耗时</td><td>success、fail、complete的回调耗时和。</td></tr></tbody></table><h2 id="性能监控指标" tabindex="-1">性能监控指标 <a class="header-anchor" href="#性能监控指标" aria-label="Permalink to &quot;性能监控指标&quot;">​</a></h2><h3 id="启动性能指标" tabindex="-1">启动性能指标 <a class="header-anchor" href="#启动性能指标" aria-label="Permalink to &quot;启动性能指标&quot;">​</a></h3><p><img src="'+e+'" alt=""></p><table><thead><tr><th>指标名</th><th>计算规则</th><th>说明</th><th>兼容情况</th></tr></thead><tbody><tr><td>总启动次数</td><td>冷启动次数 + 热启动次数</td><td>无</td><td>All</td></tr><tr><td>冷启动</td><td>Pageview.source === launch次数</td><td>无</td><td>All</td></tr><tr><td>热启动</td><td>Pageview.source === show次数</td><td>无</td><td>All</td></tr><tr><td>首屏冷启动总耗时</td><td>pageRenderEnd - App.trigger</td><td>从您的用户点击小程序到首屏渲染完成的总加载耗时，中间包含代码包下载（非首次启动则不包含）、代码执行、首屏渲染完成等耗时。</td><td>微信小程序、抖音小程序</td></tr><tr><td>小程序初始化耗时</td><td>appInitEnd - App.trigger</td><td>从您的用户点击小程序开始到冷启动完成。</td><td>微信小程序、抖音小程序</td></tr><tr><td>下载耗时</td><td>微信小程序：performance.downloadPackage、抖音小程序：performance.miniprogram-package</td><td>代码包下载耗时，您的用户首次启动时下载小程序包的耗时。</td><td>微信小程序、抖音小程序</td></tr><tr><td>JS注入耗时</td><td>performance.evaluateScript</td><td>JS代码注入耗时，启动过程中注入JS文件的耗时。</td><td>微信小程序</td></tr><tr><td>首屏加载耗时</td><td>pageLoadStart - appInitEnd</td><td>无</td><td>All</td></tr><tr><td>首屏构建耗时</td><td>pageDomEnd - pageLoadStart</td><td>无</td><td>All</td></tr><tr><td>首屏渲染耗时</td><td>pageRenderEnd - pageDomEnd</td><td>无</td><td>All</td></tr><tr><td>首屏加载总耗时</td><td>pageRenderEnd - appInitEnd</td><td>无</td><td>All</td></tr><tr><td>打开率</td><td>pageRenderEnd次数 / appInitEnd次数</td><td>您的用户启动小程序到首屏渲染的完成率。</td><td>All</td></tr><tr><td>流失率</td><td>1 - 打开率</td><td>您的用户启动小程序但是首屏渲染并未完成就退出的概率。</td><td>All</td></tr><tr><td>慢启动率</td><td>首屏加载总耗时 &gt; 设定阈值的启动次数</td><td>慢启动的比率。</td><td>All</td></tr></tbody></table><h3 id="页面性能指标" tabindex="-1">页面性能指标 <a class="header-anchor" href="#页面性能指标" aria-label="Permalink to &quot;页面性能指标&quot;">​</a></h3><p><img src="'+h+'" alt=""></p><table><thead><tr><th>指标名</th><th>计算规则</th><th>兼容情况</th></tr></thead><tbody><tr><td>页面跳转总耗时</td><td>renderEnd - navigateStart</td><td>All</td></tr><tr><td>路由切换耗时</td><td>loadStart - navigateStart</td><td>All</td></tr><tr><td>页面构建耗时</td><td>domEnd - loadStart</td><td>All</td></tr><tr><td>页面渲染耗时</td><td>renderEnd - domEnd</td><td>All</td></tr><tr><td>初次渲染(FR)</td><td>performance.FR.duration</td><td>微信小程序</td></tr><tr><td>页面首次绘制(FP)</td><td>FP.startTime - loadStart</td><td>微信小程序：iOS不支持、抖音小程序</td></tr><tr><td>页面首次内容绘制(FCP)</td><td>FCP.startTime - loadStart</td><td>微信小程序：iOS 14.5以下版本不支持</td></tr><tr><td>页面最大内容绘制(LCP)</td><td>LCP.startTime - loadStart</td><td>微信小程序：iOS不支持</td></tr><tr><td>页面渲染跳出率</td><td>renderEnd次数/ navigateStart != 0 次数</td><td>All</td></tr><tr><td>慢页面率</td><td>页面跳转总耗时 &gt; 设定阈值的数量</td><td>All</td></tr></tbody></table><h3 id="运行性能指标" tabindex="-1">运行性能指标 <a class="header-anchor" href="#运行性能指标" aria-label="Permalink to &quot;运行性能指标&quot;">​</a></h3><table><thead><tr><th>指标</th><th>计算规则</th><th>说明</th></tr></thead><tbody><tr><td>setData次数</td><td>时间范围内上报次数</td><td>无</td></tr><tr><td>setData耗时</td><td>setData总耗时 / PV数</td><td>代表一次PV平均累计的setData耗时</td></tr><tr><td>setData频率(每秒)</td><td>setData次数 / 时间范围（单位s ）</td><td>无</td></tr><tr><td>setData 大大小</td><td>setData总大小 / PV数</td><td>代表一次PV平均累计的setData大小</td></tr></tbody></table><h3 id="接口请求性能" tabindex="-1">接口请求性能 <a class="header-anchor" href="#接口请求性能" aria-label="Permalink to &quot;接口请求性能&quot;">​</a></h3><p><img src="'+o+'" alt=""></p><p>指标说明：</p><table><thead><tr><th>指标</th><th>计算规则</th><th>说明</th><th>兼容情况</th></tr></thead><tbody><tr><td>重定向耗时</td><td>redirectEnd - redirectStart</td><td>重定向没有发生，或者其中一个重定向非同源，则该值为0。</td><td>微信小程序</td></tr><tr><td>Cache耗时</td><td>domainLookupStart - fetchStart</td><td>缓存。</td><td>微信小程序</td></tr><tr><td>DNS耗时</td><td>domainLookupEnd - domainLookupStart</td><td>域名解析耗时。中解析缓存时为0。</td><td>微信小程序</td></tr><tr><td>TCP耗时</td><td>connectEnd - connectStart</td><td>TCP连接耗时。</td><td>微信小程序</td></tr><tr><td>request耗时</td><td>responseStart - requestStart</td><td>在SSL链接建立好后，从客户端发送至服务端首次响应的耗时。</td><td>微信小程序</td></tr><tr><td>response耗时</td><td>responseEnd - responseStart</td><td>从服务端首次响应至数据完全响应完的耗时。</td><td>微信小程序</td></tr></tbody></table><h2 id="自定义日志" tabindex="-1">自定义日志 <a class="header-anchor" href="#自定义日志" aria-label="Permalink to &quot;自定义日志&quot;">​</a></h2><table><thead><tr><th>指标</th><th>计算规则</th></tr></thead><tbody><tr><td>样本量</td><td>自定义上报的总数。</td></tr></tbody></table>',23),i=[n];function s(c,p,b,m,S,u){return r(),d("div",null,i)}const g=t(l,[["render",s]]);export{P as __pageData,g as default};
